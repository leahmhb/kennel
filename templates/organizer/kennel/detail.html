{% extends "base.html" %}
{% load static %}
{% block title %}{{ kennel.name }} Standard Poodles{% endblock %}

{% block content %}
<div id="detail">
	<h1>{{ kennel.name}} Standard Poodles</h1>
	<h2 class="text-condensed">
		{% for o in kennel.get_person %}
		<a href="{{ o.get_absolute_url }}">{{ o }}</a>
		{% if not forloop.last %}
		& 
		{% endif %}
		{% endfor %}

	</h2>
	<h3 class="text-condensed">{{ kennel.city }}, {{ kennel.state|default_if_none:"" }} {{ kennel.country }}</h3>

	<a href="{% url 'organizer:update-kennel' kennel.slug %}" 
	class="btn btn-sm btn-outline-success mt-5">
	<i class="fas fa-pencil"></i> Update
</a>

<a class="btn btn-sm btn-outline-danger mt-5"
@click="confirmDelete('{{ kennel.slug }}')">
<i class="fas fa-trash"></i> 
Delete
</a>

<table class="table">
	{% for name, value in kennel.get_fields %}
	{% with skip='ID slug' %}     
	{% if value and not name in skip %}
	<tr>
		<th>{{ name }}</th>
		<td>{{ value|default_if_none:"" }}</td>
	</tr>
	{% endif %}
	{% endwith %}
	{% endfor %}
</table>

<h2>Comments</h2>
{% if kennel.comments %}
{{ kennel.comments }}
{% else %}
{% lorem 1 p %}
{% endif %}

{% include 'organizer/kennel/modals.html' %}
</div>

{% endblock content %}

{% block after_javascript %}
<script>
	var CONFIG = {
		"delete_modal": "delete-kennel-modal",
		"edit_modal": "edit-kennel-modal",
		'url_item': "{% url 'kennel-list' %}",
		'selects': {
			'states': {{ selects.states | safe }},
			'countries': {{ selects.countries | safe }},
		}
	}
</script>
<script src="{% static 'js/organizer-kennel-detail.js' %}"></script>
{% endblock after_javascript %}